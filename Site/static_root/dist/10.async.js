(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"5WY0":function(e,t,a){e.exports={main:"antd-pro-pages-user-register-main",picture:"antd-pro-pages-user-register-picture",title:"antd-pro-pages-user-register-title",checkboxBot:"antd-pro-pages-user-register-checkboxBot"}},cq3J:function(e,t,a){"use strict";var l=a("u+rM"),r=a("CKcX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("KahQ");var n=l(a("Y0fS"));a("nLo3");var u=l(a("HJwI"));a("hkEy");var d=l(a("gVls"));a("t8Za");var o=l(a("qevM"));a("Y0k6");var s=l(a("4t+9"));a("Yfv2");var i=l(a("PQzY"));a("l5oX");var c=l(a("1PBs")),f=l(a("Pjwa")),m=l(a("2cji")),p=l(a("sp3j")),h=l(a("vZkh")),v=l(a("+KCP"));a("9vX3");var g=l(a("eVTp"));a("Qg1i");var E=l(a("+45M"));a("uDOZ");var y,x,w,D=l(a("TCkm")),b=r(a("rdAL")),k=(l(a("T9cD")),a("lsjz"),l(a("6+fm"))),C=l(a("ctiy")),I=l(a("mg/I")),S=l(a("nBO4")),q=l(a("499u")),P=l(a("OCG0")),_=l(a("ix0i")),B=l(a("Hi4l")),T=l(a("5WY0")),F=(D.default.Item,E.default.Option),M=(g.default.Group,y=D.default.create(),y((w=function(e){function t(){var e,a;(0,f.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(r))),a.store=new B.default,a.state={proviceData:[],cityData:[],schoolData:[],gradeData:[],classData:[]},a.handleSubmitRegister=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var l={name:t.username,mobile:t.mobile,password:t.password,class_id:t.class_id,code:t.code};a.store.submitRegister(l,function(e){localStorage.setItem("userName",e.username),c.default.success({title:"\u6ce8\u518c\u6210\u529f\uff0c\u8bf7\u7b49\u5f85\u5ba1\u6838"}),a.setState({proviceData:[]})})}})},a.handleValidata=function(){var e=a.props.form.getFieldValue("mobile");a.store.valiData({mobile:e,type:1})},a.handleProvimce=function(e){a.store.fetchCity(e,function(e){var t=e.results.map(function(e){return{text:"".concat(e.id),value:e.city_name}});a.setState({cityData:t})})},a.handleCity=function(e){a.store.fetchSchool(e,function(e){var t=e.results.map(function(e){return{text:"".concat(e.id),value:e.school_name}});a.setState({schoolData:t})})},a.handleSchool=function(e){a.store.fetchGrade(e,function(e){var t=e.results.map(function(e){return{text:"".concat(e.id),value:e.grade_name}});a.setState({gradeData:t})})},a.handleGrade=function(e){a.store.fetchClass(e,function(e){var t=e.results.map(function(e){return{text:"".concat(e.id),value:e.class_name}});a.setState({classData:t})})},a.valiMobile=function(e,t,l){a.props.form;var r=/^1[3|4|5|7|8][0-9]{9}$/;t?r.test(t)?l():l("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801\uff01"):l("")},a.valiPassword=function(e,t,l){var r=a.props.form.getFieldValue("password");a.props.form;t!==r&&l("\u5bc6\u7801\u4e0d\u4e00\u81f4"),l()},a}return(0,v.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.store.fetchProvince("",function(t){var a=t.results.map(function(e){return{text:"".concat(e.id),value:e.province_name}});e.setState({proviceData:a})})}},{key:"render",value:function(){var e=this.props,t=e.form,a=(e.submitting,t.getFieldDecorator);return b.default.createElement("div",{className:T.default.main},b.default.createElement(C.default,null),b.default.createElement(I.default,null),b.default.createElement(S.default,null),b.default.createElement("div",{className:T.default.picture},b.default.createElement(s.default,{style:{width:"435px",marginLeft:"25%"}},b.default.createElement(i.default,null,b.default.createElement("img",{src:_.default,alt:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25",maxwidth:"383px",height:"auto",style:{marginTop:"190px"}})),b.default.createElement(i.default,{offset:3},b.default.createElement("img",{src:P.default,alt:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25",maxwidth:"292px",height:"auto"}))),b.default.createElement(o.default,{dashed:!0,type:"vertical",style:{background:"#DCDDDD",width:"1px",height:"620px",marginTop:"40px",marginLeft:"60px"}}),b.default.createElement("div",{style:{marginLeft:"80px"}},b.default.createElement("div",{className:T.default.title},b.default.createElement("h3",null,"\u6b22\u8fce\u6ce8\u518c\u74e6\u529b\u5de5\u5382"),b.default.createElement(k.default,{to:"login",key:"login"},b.default.createElement("span",{style:{color:"#777",marginLeft:"70px",marginTop:"8px",fontSize:"12px"}},"\u5df2\u6709\u8d26\u53f7\uff0c\u53bb\u767b\u9646"))),b.default.createElement(D.default,{onSubmit:this.handleSubmitRegister,style:{width:"300px"}},b.default.createElement(D.default.Item,null,a("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!",whitespace:!0}]})(b.default.createElement(g.default,{placeholder:"\u586b\u5199\u7528\u6237\u540d\uff08\u4e3a\u65b9\u4fbf\u5ba1\u6838\uff0c\u8bf7\u5b9e\u540d\u5236\uff09"}))),b.default.createElement(D.default.Item,null,a("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7!"},{validator:this.valiMobile}],validateTrigger:["onBlur"]})(b.default.createElement(g.default,{addonBefore:b.default.createElement("span",null,"+86"),style:{width:"100%"}}))),b.default.createElement(D.default.Item,null,a("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801!"}]})(b.default.createElement(g.default,{addonAfter:b.default.createElement("a",{onClick:this.handleValidata,style:{color:"#50B5A2"}},"\u53d1\u9001\u9a8c\u8bc1\u7801"),style:{width:"100%"}}))),b.default.createElement(D.default.Item,null,a("provimce",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7701/\u76f4\u8f96\u5e02!"}]})(b.default.createElement(E.default,{placeholder:"\u8bf7\u9009\u62e9\u7701/\u76f4\u8f96\u5e02",onChange:this.handleProvimce},this.state.proviceData.map(function(e){return b.default.createElement(F,{key:e.text},e.value)})))),b.default.createElement(D.default.Item,null,a("city",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5e02/\u533a!"}]})(b.default.createElement(E.default,{placeholder:"\u8bf7\u9009\u62e9\u5e02\\\u533a",onChange:this.handleCity,notFoundContent:"\u8bf7\u5148\u9009\u62e9\u7701/\u76f4\u8f96\u5e02"},this.state.cityData.map(function(e){return b.default.createElement(F,{key:e.text},e.value)})))),b.default.createElement(D.default.Item,null,a("school",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5b66\u6821!"}]})(b.default.createElement(E.default,{placeholder:"\u8bf7\u9009\u62e9\u5b66\u6821",onChange:this.handleSchool,notFoundContent:"\u8bf7\u5148\u9009\u62e9\u5e02/\u533a"},this.state.schoolData.map(function(e){return b.default.createElement(F,{key:e.text},e.value)})))),b.default.createElement(D.default.Item,null,a("grade",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5e74\u7ea7!"}]})(b.default.createElement(E.default,{placeholder:"\u8bf7\u9009\u62e9\u5e74\u7ea7",onChange:this.handleGrade,notFoundContent:"\u8bf7\u5148\u9009\u62e9\u5b66\u6821"},this.state.gradeData.map(function(e){return b.default.createElement(F,{key:e.text},e.value)})))),b.default.createElement(D.default.Item,null,a("class_id",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u73ed\u7ea7!"}]})(b.default.createElement(E.default,{placeholder:"\u8bf7\u9009\u62e9\u73ed\u7ea7",onChange:this.handleClass,notFoundContent:"\u8bf7\u5148\u9009\u62e9\u5e74\u7ea7"},this.state.classData.map(function(e){return b.default.createElement(F,{key:e.text},e.value)})))),b.default.createElement(D.default.Item,null,a("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],validateTrigger:["onBlur"]})(b.default.createElement(g.default,{prefix:b.default.createElement(d.default,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u8f93\u5165\u5bc6\u7801"}))),b.default.createElement(D.default.Item,null,a("passtwo",{rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801!"},{validator:this.valiPassword}],validateTrigger:["onBlur"]})(b.default.createElement(g.default,{prefix:b.default.createElement(d.default,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u786e\u8ba4\u5bc6\u7801"}))),b.default.createElement(D.default.Item,null,b.default.createElement(u.default,{htmlType:"submit",style:{width:"100%",background:"#8FC53E",color:"white"}},"\u7acb\u5373\u6ce8\u518c")),b.default.createElement(D.default.Item,{className:T.default.checkboxBot},a("is_valied",{valuePropName:"checked",initialValue:!0})(b.default.createElement(n.default,null)),b.default.createElement("a",{href:"#",style:{margin:"0 0 0 10px",color:"red"}},"\u300a\u6cd5\u5f8b\u58f0\u660e\u548c\u9690\u79c1\u6743\u653f\u7b56\u300b"))))),b.default.createElement(q.default,null))}}]),t}(b.Component),x=w))||x),V=M;t.default=V}}]);